# This file contains secret templates.
# DO NOT commit actual secrets to git.
# Use kubectl create secret or a secret management tool (External Secrets Operator, Sealed Secrets, etc.)
#
# To create secrets manually:
# kubectl create secret generic trackdechets-secrets -n trackdechets \
#   --from-literal=DATABASE_URL='postgresql://user:password@postgres-rw:5432/trackdechets' \
#   --from-literal=REDIS_URL='redis://redis-master:6379' \
#   --from-literal=MONGO_URL='mongodb://user:password@mongodb:27017' \
#   --from-literal=ELASTIC_SEARCH_URL='http://elasticsearch:9200' \
#   --from-literal=API_TOKEN_SECRET='your-secret-here' \
#   --from-literal=SESSION_SECRET='your-session-secret' \
#   --from-literal=WEBHOOK_TOKEN_ENCRYPTION_KEY='32-character-key-here-----------' \
#   --from-literal=SIB_APIKEY='your-sendinblue-api-key' \
#   --from-literal=QUEUE_MONITOR_TOKEN='your-queue-monitor-token' \
#   --from-literal=GOTENBERG_TOKEN='your-gotenberg-token' \
#   --from-literal=SENTRY_DSN='your-sentry-dsn' \
#   --from-literal=INSEE_CLIENT_ID='your-insee-client-id' \
#   --from-literal=INSEE_CLIENT_SECRET='your-insee-client-secret' \
#   --from-literal=INSEE_USERNAME='your-insee-username' \
#   --from-literal=INSEE_PASSWORD='your-insee-password' \
#   --from-literal=S3_ENDPOINT='https://s3.fr-par.scw.cloud' \
#   --from-literal=S3_REGION='fr-par' \
#   --from-literal=S3_ACCESS_KEY_ID='your-s3-access-key' \
#   --from-literal=S3_SECRET_ACCESS_KEY='your-s3-secret-key' \
#   --from-literal=S3_BUCKET='trackdechets' \
#   --from-literal=S3_REGISTRY_ERRORS_BUCKET='trackdechets-registry-errors' \
#   --from-literal=S3_REGISTRY_IMPORTS_BUCKET='trackdechets-registry-imports' \
#   --from-literal=S3_REGISTRY_EXPORTS_BUCKET='trackdechets-registry-exports' \
#   --from-literal=S3_TEXS_ANALYSIS_BUCKET='trackdechets-texs-analysis' \
#   --from-literal=S3_REGISTRY_MODELS_BUCKET='trackdechets-registry-models' \
#   --from-literal=S3_REGISTRY_EXHAUSTIVE_EXPORTS_BUCKET='trackdechets-registry-exhaustive-exports' \
#   --from-literal=S3_BSD_TEMPLATES_BUCKET='trackdechets-bsd-templates' \
#   --from-literal=TD_COMPANY_ELASTICSEARCH_URL='https://company-search-es.example.com' \
#   --from-literal=TD_COMPANY_ELASTICSEARCH_INDEX='stocketablissement-production' \
#   --from-literal=TD_COMPANY_ELASTICSEARCH_CACERT='' \
#   --from-literal=GOTENBERG_URL='http://gotenberg:3000'

---
apiVersion: v1
kind: Secret
metadata:
  name: trackdechets-secrets
  namespace: trackdechets
type: Opaque
stringData:
  # Database connections - will be populated by operators
  DATABASE_URL: "postgresql://trackdechets:changeme@postgres-rw:5432/trackdechets"
  REDIS_URL: "redis://redis-master:6379"
  MONGO_URL: "mongodb://trackdechets:changeme@mongodb:27017"
  ELASTIC_SEARCH_URL: "http://elasticsearch:9200"

  # Application secrets - MUST BE CHANGED
  API_TOKEN_SECRET: "changeme-generate-random-token"
  SESSION_SECRET: "changeme-generate-random-session-secret"
  WEBHOOK_TOKEN_ENCRYPTION_KEY: "changeme-must-be-32-chars-long--"

  # External service credentials - MUST BE CONFIGURED
  SIB_APIKEY: "changeme"
  QUEUE_MONITOR_TOKEN: "changeme"
  GOTENBERG_TOKEN: "changeme"
  GOTENBERG_URL: "http://gotenberg:3000"
  SENTRY_DSN: ""

  # INSEE API (French business registry)
  INSEE_CLIENT_ID: "changeme"
  INSEE_CLIENT_SECRET: "changeme"
  INSEE_USERNAME: "changeme"
  INSEE_PASSWORD: "changeme"

  # S3 Storage (Scaleway or other provider)
  S3_ENDPOINT: "https://s3.fr-par.scw.cloud"
  S3_REGION: "fr-par"
  S3_ACCESS_KEY_ID: "changeme"
  S3_SECRET_ACCESS_KEY: "changeme"
  S3_BUCKET: "trackdechets"
  S3_REGISTRY_ERRORS_BUCKET: "trackdechets-registry-errors"
  S3_REGISTRY_IMPORTS_BUCKET: "trackdechets-registry-imports"
  S3_REGISTRY_EXPORTS_BUCKET: "trackdechets-registry-exports"
  S3_TEXS_ANALYSIS_BUCKET: "trackdechets-texs-analysis"
  S3_REGISTRY_MODELS_BUCKET: "trackdechets-registry-models"
  S3_REGISTRY_EXHAUSTIVE_EXPORTS_BUCKET: "trackdechets-registry-exhaustive-exports"
  S3_BSD_TEMPLATES_BUCKET: "trackdechets-bsd-templates"

  # Company search (External Elasticsearch)
  TD_COMPANY_ELASTICSEARCH_URL: "changeme"
  TD_COMPANY_ELASTICSEARCH_INDEX: "stocketablissement-production"
  TD_COMPANY_ELASTICSEARCH_CACERT: ""
  TD_COMPANY_ELASTICSEARCH_IGNORE_SSL: "false"
