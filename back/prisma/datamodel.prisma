type User {
  id: ID! @unique
  isActive: Boolean @default(value: "false")
  email: String! @unique
  password: String!
  name: String
  phone: String
  company: Company!
  userType: Json

  createdAt: DateTime!
  updatedAt: DateTime!
}

type UserActivationHash {
  id: ID! @unique
  user: User!
  hash: String! @unique
}

type Company {
  id: ID! @unique
  siret: String! @unique
}

type Form {
  id: ID! @unique
  readableId: String @unique
  isDeleted: Boolean @default(value: "false")

  owner: User!
  createdAt: DateTime!
  updatedAt: DateTime!

  # Workflow fields
  status: String @default(value: "DRAFT")
  sentAt: DateTime
  sentBy: String

  isAccepted: Boolean
  receivedBy: String
  receivedAt: DateTime
  quantityReceived: Float

  processedBy: String
  processedAt: String
  processingOperationDone: String

  # Next destination fields (frame 12)
  nextDestinationProcessingOperation: String
  nextDestinationDetails: String

  # Emitter fields
  emitterType: EmitterType
  emitterPickupSite: String

  emitterCompanyName: String
  emitterCompanySiret: String
  emitterCompanyAddress: String
  emitterCompanyContact: String
  emitterCompanyPhone: String
  emitterCompanyMail: String

  # Recipient fields
  recipientCap: String
  recipientProcessingOperation: String

  recipientCompanyName: String
  recipientCompanySiret: String
  recipientCompanyAddress: String
  recipientCompanyContact: String
  recipientCompanyPhone: String
  recipientCompanyMail: String

  # Transporter fields
  transporterCompanyName: String
  transporterCompanySiret: String
  transporterCompanyAddress: String
  transporterCompanyContact: String
  transporterCompanyPhone: String
  transporterCompanyMail: String

  transporterReceipt: String
  transporterDepartment: String
  transporterValidityLimit: DateTime
  transporterContact: String
  transporterNumberPlate: String

  # Waste details fields
  wasteDetailsCode: String
  wasteDetailsName: String
  wasteDetailsOnuCode: String
  wasteDetailsPackagings: Json
  wasteDetailsOtherPackaging: String
  wasteDetailsNumberOfPackages: Int
  wasteDetailsQuantity: Float
  wasteDetailsQuantityType: QuantityType
  wasteDetailsConsistence: Consistence
}

enum EmitterType {
  PRODUCER
  OTHER
}

enum QuantityType {
  REAL
  ESTIMATED
}

enum Consistence {
  SOLID
  LIQUID
  GASEOUS
}
