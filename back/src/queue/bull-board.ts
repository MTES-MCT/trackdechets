import { createBullBoard } from "@bull-board/api";
import { BullAdapter } from "@bull-board/api/bullAdapter";
import { ExpressAdapter } from "@bull-board/express";
import { mailQueue } from "./producers/mail";

export const serverAdapter = new ExpressAdapter();
export const bullBoardPath = `/queue/monitor/${process.env.QUEUE_MONITOR_TOKEN}`;

createBullBoard({
  queues: [new BullAdapter(mailQueue)],
  serverAdapter: serverAdapter
});

serverAdapter.setBasePath(bullBoardPath);
