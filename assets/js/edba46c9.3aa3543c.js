(self.webpackChunktd_doc=self.webpackChunktd_doc||[]).push([[6558],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return u},kt:function(){return m}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),p=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=p(n),m=a,f=d["".concat(c,".").concat(m)]||d[m]||l[m]||i;return n?r.createElement(f,o(o({ref:t},u),{},{components:n})):r.createElement(f,o({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var p=2;p<i;p++)o[p]=n[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},74398:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},metadata:function(){return c},toc:function(){return p},default:function(){return l}});var r=n(22122),a=n(19756),i=(n(67294),n(3905)),o=["components"],s={title:"API SIRENE enrichie",description:"API SIRENE enrichie",sidebar_position:6},c={unversionedId:"guides/sirene",id:"guides/sirene",isDocsHomePage:!1,title:"API SIRENE enrichie",description:"API SIRENE enrichie",source:"@site/docs/guides/sirene.md",sourceDirName:"guides",slug:"/guides/sirene",permalink:"/guides/sirene",editUrl:"https://github.com/MTES-MCT/trackdechets/doc/docs/guides/sirene.md",version:"current",sidebarPosition:6,frontMatter:{title:"API SIRENE enrichie",description:"API SIRENE enrichie",sidebar_position:6},sidebar:"docs",previous:{title:"Utilisation du playground",permalink:"/guides/playground"},next:{title:"Registre",permalink:"/guides/registre"}},p=[{value:"Rechercher un \xe9tablissement par son SIRET",id:"rechercher-un-\xe9tablissement-par-son-siret",children:[]}],u={toc:p};function l(e){var t=e.components,n=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h3",{id:"rechercher-un-\xe9tablissement-par-son-siret"},"Rechercher un \xe9tablissement par son SIRET"),(0,i.kt)("p",null,"Nous exposons une query ",(0,i.kt)("inlineCode",{parentName:"p"},"companyInfos")," qui interroge la base SIRENE (via ",(0,i.kt)("a",{parentName:"p",href:"https://entreprise.data.gouv.fr"},"https://entreprise.data.gouv.fr"),"), la base des installations class\xe9es pour la protection de l'environnement (ICPE) et la base Trackd\xe9chets pour obtenir des informations sur un \xe9tablissement \xe0 partir de son num\xe9ro SIRET."),(0,i.kt)("p",null,"La query renvoie un objet de type ",(0,i.kt)("a",{parentName:"p",href:"../api-reference/user-company/objects#companypublic"},(0,i.kt)("inlineCode",{parentName:"a"},"CompanyPublic"))," et permet notamment de savoir si un \xe9tablissement est inscrit sur Trackd\xe9chets gr\xe2ce au champ ",(0,i.kt)("inlineCode",{parentName:"p"},"isRegistered"),"."),(0,i.kt)("p",null,"Exemple d'utilisation:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-graphql"},'query {\n  companyInfos(siret: "13001045700013") {\n    name\n    naf\n    address\n    isRegistered\n  }\n}\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'{\n  "data": {\n    "companyInfos": {\n      "name": "DIRECTION REGIONALE DE L\'ENVIRONNEMENT DE L\'AMENAGEMENT ET DU LOGEMENT NOUVELLE-AQUITAINE",\n      "naf": "84.13Z",\n      "address": "15 Rue Arthur Ranc 86000 Poitiers",\n      "isRegistered": true\n    }\n  }\n}\n')),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"Nous avons cr\xe9e une ",(0,i.kt)("strong",{parentName:"p"},"fiche entreprise")," pour chaque \xe9tablissement sur l'interface graphique Trackd\xe9chets qui illustre l'utilisation de cette query. Exemple avec la DREAL Nouvelle Aquitaine: ",(0,i.kt)("a",{parentName:"p",href:"https://app.trackdechets.beta.gouv.fr/company/13001045700013"},"https://app.trackdechets.beta.gouv.fr/company/13001045700013")))))}l.isMDXComponent=!0}}]);