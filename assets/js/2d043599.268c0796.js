"use strict";(self.webpackChunktd_doc=self.webpackChunktd_doc||[]).push([[3003],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),u=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},c=function(e){var t=u(e.components);return r.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(n),m=a,f=d["".concat(s,".").concat(m)]||d[m]||p[m]||i;return n?r.createElement(f,o(o({ref:t},c),{},{components:n})):r.createElement(f,o({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var u=2;u<i;u++)o[u]=n[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},42436:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return u},toc:function(){return c},default:function(){return d}});var r=n(87462),a=n(63366),i=(n(67294),n(3905)),o=["components"],l={title:"Diff\xe9rences entre les bordereaux"},s=void 0,u={unversionedId:"reference/multi-bsd",id:"reference/multi-bsd",isDocsHomePage:!1,title:"Diff\xe9rences entre les bordereaux",description:"L'API pour les bordereaux DASRI, amiante, VHU et Fluides Frigorig\xe8nes est encore en mode exp\xe9rimental",source:"@site/docs/reference/multi-bsd.md",sourceDirName:"reference",slug:"/reference/multi-bsd",permalink:"/reference/multi-bsd",editUrl:"https://github.com/MTES-MCT/trackdechets/edit/dev/doc/docs/reference/multi-bsd.md",version:"current",frontMatter:{title:"Diff\xe9rences entre les bordereaux"},sidebar:"docs",previous:{title:"BSDASRI",permalink:"/reference/statuts/bsdasri"},next:{title:"Environnements",permalink:"/reference/environments/environments"}},c=[],p={toc:c};function d(e){var t=e.components,n=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"L'API pour les bordereaux DASRI, amiante, VHU et Fluides Frigorig\xe8nes est encore en mode exp\xe9rimental"))),(0,i.kt)("p",null,"Le mode op\xe9ratoire de l'API pour les bordereaux DASRI, amiante, VHU et Fluides Frigorig\xe8nes diff\xe8re sensiblement de celui pour le BSDD."),(0,i.kt)("p",null,"le champ ",(0,i.kt)("inlineCode",{parentName:"p"},"id")," stocke un champ lisible (\xe9quivalent du ",(0,i.kt)("inlineCode",{parentName:"p"},"readableId")," du bsdd). Il n'y a donc pas de champ ",(0,i.kt)("inlineCode",{parentName:"p"},"readableId"),".\nLe ",(0,i.kt)("inlineCode",{parentName:"p"},"DRAFT")," est sorti des statuts, c'est un boolean \xe0 part. Le passage par l'\xe9tape brouillon est facultatif."),(0,i.kt)("p",null,"Pour donner plus de flexibilit\xe9 et limiter les mutations, les principes suivants sont adopt\xe9s:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"le nombre de mutations est reduit: ",(0,i.kt)("inlineCode",{parentName:"li"},"create/createDraft"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"publish"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"update"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"sign")),(0,i.kt)("li",{parentName:"ul"},"createDraft cr\xe9e un bordereau dans l'\xe9tat ",(0,i.kt)("inlineCode",{parentName:"li"},"INITIAL"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"isDraft=true"),". Cette mutation est optionelle, on peut commencer avec ",(0,i.kt)("inlineCode",{parentName:"li"},"create")),(0,i.kt)("li",{parentName:"ul"},"create cr\xe9e un bordereau dans l'\xe9tat ",(0,i.kt)("inlineCode",{parentName:"li"},"INITIAL"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"isDraft=false")),(0,i.kt)("li",{parentName:"ul"},"publish passe le bordereau de ",(0,i.kt)("inlineCode",{parentName:"li"},"isDraft=true")," \xe0 ",(0,i.kt)("inlineCode",{parentName:"li"},"isDraft=false")),(0,i.kt)("li",{parentName:"ul"},"la mutation update permet de mettre \xe0 jour le bordereau pendant son cycle de vie"),(0,i.kt)("li",{parentName:"ul"},"la mutation sign (EMISSION, TRANSPORT, RECPTION, OPERATION) appose une signature sur le cadre correspondant et verrouille les champs correspondants"),(0,i.kt)("li",{parentName:"ul"},"une fois qu'une signature est appos\xe9e, les champs du cadre correspondant ne sont plus modifiables")))}d.isMDXComponent=!0}}]);