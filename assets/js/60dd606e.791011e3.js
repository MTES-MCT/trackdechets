"use strict";(self.webpackChunktd_doc=self.webpackChunktd_doc||[]).push([[1551],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>m});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),u=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=u(e.components);return n.createElement(s.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},g=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=u(r),g=a,m=d["".concat(s,".").concat(g)]||d[g]||c[g]||l;return r?n.createElement(m,i(i({ref:t},p),{},{components:r})):n.createElement(m,i({ref:t},p))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=r.length,i=new Array(l);i[0]=g;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[d]="string"==typeof e?e:a,i[1]=o;for(var u=2;u<l;u++)i[u]=r[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}g.displayName="MDXCreateElement"},9450:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>l,metadata:()=>o,toc:()=>u});var n=r(7462),a=(r(7294),r(3905));const l={title:"Utiliser le playground"},i=void 0,o={unversionedId:"guides/playground",id:"guides/playground",title:"Utiliser le playground",description:"Le playground GraphQL est un environnement de d\xe9veloppement int\xe9gr\xe9 au navigateur web qui permet de facilement tester des requ\xeates \xe0 l'API Trackd\xe9chets.",source:"@site/docs/guides/playground.md",sourceDirName:"guides",slug:"/guides/playground",permalink:"/guides/playground",draft:!1,editUrl:"https://github.com/MTES-MCT/trackdechets/edit/dev/doc/docs/guides/playground.md",tags:[],version:"current",frontMatter:{title:"Utiliser le playground"},sidebar:"docs",previous:{title:"Consommer l'api - Bonnes pratiques",permalink:"/guides/good-practices"},next:{title:"Faire une requ\xeate GraphQL dans le langage de son choix",permalink:"/guides/language"}},s={},u=[{value:"Pr\xe9sentation du playground",id:"pr\xe9sentation-du-playground",level:2},{value:"Renseigner son token",id:"renseigner-son-token",level:2},{value:"Ex\xe9cuter une requ\xeate GraphQL",id:"ex\xe9cuter-une-requ\xeate-graphql",level:2},{value:"Utiliser les variables",id:"utiliser-les-variables",level:2},{value:"Parcourir la documentation de l&#39;API",id:"parcourir-la-documentation-de-lapi",level:2},{value:"T\xe9l\xe9charger le sch\xe9ma",id:"t\xe9l\xe9charger-le-sch\xe9ma",level:2}],p={toc:u},d="wrapper";function c(e){let{components:t,...l}=e;return(0,a.kt)(d,(0,n.Z)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Le playground GraphQL est un environnement de d\xe9veloppement int\xe9gr\xe9 au navigateur web qui permet de facilement tester des requ\xeates \xe0 l'API Trackd\xe9chets.\nIl s'affiche par d\xe9faut lors d'une connexion \xe0 la racine de l'API via un navigateur. Pour rappel :"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:null},"Environnement"),(0,a.kt)("th",{parentName:"tr",align:null},"URL de l'API"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Sandbox"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://api.sandbox.trackdechets.beta.gouv.fr"},"https://api.sandbox.trackdechets.beta.gouv.fr"))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:null},"Production"),(0,a.kt)("td",{parentName:"tr",align:null},(0,a.kt)("a",{parentName:"td",href:"https://api.trackdechets.beta.gouv.fr"},"https://api.trackdechets.beta.gouv.fr"))))),(0,a.kt)("h2",{id:"pr\xe9sentation-du-playground"},"Pr\xe9sentation du playground"),(0,a.kt)("p",null,"Le playground GraphQL est compos\xe9 de diff\xe9rentes zones :"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"une zone de texte \xe9ditable permettant d'\xe9crire des queries et des mutations GraphQL. Vous pouvez utiliser les fonctionnalit\xe9s d'auto-compl\xe9tion et le boutton \"Prettify\" pour formatter les requ\xeates."),(0,a.kt)("li",{parentName:"ul"},"une zone de texte pour visualiser les r\xe9ponses \xe0 vos requ\xeates"),(0,a.kt)("li",{parentName:"ul"},"un panneau lat\xe9ral permettant d'acc\xe9der \xe0 la documentation des champs de l'API et au sch\xe9ma GraphQL"),(0,a.kt)("li",{parentName:"ul"},"un onglet permettant de sp\xe9cifier des variables \xe0 injecter dans vos ",(0,a.kt)("em",{parentName:"li"},"queries")," ou ",(0,a.kt)("em",{parentName:"li"},"mutations")),(0,a.kt)("li",{parentName:"ul"},"un onglet \"HTTP Headers\" permettant d'ajouter l'en-t\xeate d'authentification")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"playground",src:r(1388).Z,width:"1200",height:"944"})),(0,a.kt)("h2",{id:"renseigner-son-token"},"Renseigner son token"),(0,a.kt)("p",null,"Le token (voir ",(0,a.kt)("a",{parentName:"p",href:"../reference/authentification"},"Authentification"),') doit \xeatre renseign\xe9 dans l\'onglet "HTTP Headers" de la fa\xe7on suivante :'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"playground-token",src:r(2960).Z,width:"941",height:"177"})),(0,a.kt)("h2",{id:"ex\xe9cuter-une-requ\xeate-graphql"},"Ex\xe9cuter une requ\xeate GraphQL"),(0,a.kt)("p",null,"Vous pouvez \xe9crire des requ\xeates GraphQL dans la zone de texte \xe0 gauche. Exemple avec la requ\xeate ",(0,a.kt)("inlineCode",{parentName:"p"},"companyInfos")," permettant d'obtenir des informations sur un \xe9tablissement partenaire :"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"playground-query",src:r(9246).Z,width:"605",height:"389"})),(0,a.kt)("admonition",{type:"tip"},(0,a.kt)("p",{parentName:"admonition"},'Utiliser le bouton "Prettify" pour valider et formatter vos requ\xeates')),(0,a.kt)("h2",{id:"utiliser-les-variables"},"Utiliser les variables"),(0,a.kt)("p",null,'Vous pouvez \xe9galement utiliser l\'onglet "Variables" pour injecter les variables dans votre requ\xeate de la fa\xe7on suivante :'),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"playground-variables",src:r(7515).Z,width:"944",height:"780"})),(0,a.kt)("h2",{id:"parcourir-la-documentation-de-lapi"},"Parcourir la documentation de l'API"),(0,a.kt)("p",null,"L'onglet de droite \"Docs\" vous permet de parcourir la r\xe9f\xe9rence de l'API. Vous y retrouverez les diff\xe9rentes Query et Mutation disponibles ainsi que les variables et les types de retours. La r\xe9f\xe9rence de l'API est \xe9galement disponible dans la section ",(0,a.kt)("a",{parentName:"p",href:"../reference/api-reference/bsdd/queries"},"R\xe9f\xe9rence API")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"playground-docs",src:r(413).Z,width:"351",height:"463"})),(0,a.kt)("h2",{id:"t\xe9l\xe9charger-le-sch\xe9ma"},"T\xe9l\xe9charger le sch\xe9ma"),(0,a.kt)("p",null,'Vous pouvez t\xe9l\xe9charger le sch\xe9ma GraphQL en cliquant sur le panneau lat\xe9ral "Schema", puis "DOWNLOAD". Le sch\xe9ma permet notamment de construire des clients gr\xe2ce \xe0 des librairies dans le langage de votre choix. Voir la liste compl\xe8te des librairies GraphQL sur le site ',(0,a.kt)("a",{parentName:"p",href:"https://graphql.org/code/"},"graphql.org"),"."))}c.isMDXComponent=!0},413:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/playground-docs-34d4b58b1493e8a404a4a24b9eb0658f.png"},1388:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/playground-guide-3ccf0c22f4e563235a583ad4ecdae4fa.png"},9246:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/playground-query-9ec49f9c812324c9585bcd1a89f4f867.png"},2960:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/playground-token-b7ee9991935dd1d83e6cfdce9774eee3.png"},7515:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/playground-variables-35f44f472b9cc391c2feba6709b56744.png"}}]);