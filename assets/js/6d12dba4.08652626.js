(self.webpackChunktd_doc=self.webpackChunktd_doc||[]).push([[6614],{3905:function(e,t,r){"use strict";r.d(t,{Zo:function(){return c},kt:function(){return d}});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),o=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=o(e.components);return n.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,l=e.originalType,s=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),m=o(r),d=a,f=m["".concat(s,".").concat(d)]||m[d]||p[d]||l;return r?n.createElement(f,i(i({ref:t},c),{},{components:r})):n.createElement(f,i({ref:t},c))}));function d(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=r.length,i=new Array(l);i[0]=m;var u={};for(var s in t)hasOwnProperty.call(t,s)&&(u[s]=t[s]);u.originalType=e,u.mdxType="string"==typeof e?e:a,i[1]=u;for(var o=2;o<l;o++)i[o]=r[o];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},50819:function(e,t,r){"use strict";r.r(t),r.d(t,{frontMatter:function(){return u},contentTitle:function(){return s},metadata:function(){return o},toc:function(){return c},default:function(){return m}});var n=r(22122),a=r(19756),l=(r(67294),r(3905)),i=["components"],u={id:"queries",title:"Queries",slug:"queries",sidebar_position:1},s=void 0,o={unversionedId:"reference/api-reference/user-company/queries",id:"reference/api-reference/user-company/queries",isDocsHomePage:!1,title:"Queries",description:"companyInfos",source:"@site/docs/reference/api-reference/user-company/queries.md",sourceDirName:"reference/api-reference/user-company",slug:"/reference/api-reference/user-company/queries",permalink:"/reference/api-reference/user-company/queries",editUrl:"https://github.com/MTES-MCT/trackdechets/edit/dev/doc/docs/reference/api-reference/user-company/queries.md",version:"current",sidebarPosition:1,frontMatter:{id:"queries",title:"Queries",slug:"queries",sidebar_position:1},sidebar:"docs",previous:{title:"Scalars",permalink:"/reference/api-reference/bsda/scalars"},next:{title:"Mutations",permalink:"/reference/api-reference/user-company/mutations"}},c=[{value:"companyInfos",id:"companyinfos",children:[]},{value:"ecoOrganismes",id:"ecoorganismes",children:[]},{value:"me",id:"me",children:[]},{value:"membershipRequest",id:"membershiprequest",children:[]},{value:"searchCompanies",id:"searchcompanies",children:[]}],p={toc:c};function m(e){var t=e.components,r=(0,a.Z)(e,i);return(0,l.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"companyinfos"},"companyInfos"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Type:")," ",(0,l.kt)("a",{parentName:"p",href:"/reference/api-reference/user-company/objects#companypublic"},"CompanyPublic!")),(0,l.kt)("p",null,"Renvoie des informations publiques sur un \xe9tablissement\nextrait de la base SIRENE et de la base des installations\nclass\xe9es pour la protection de l'environnement (ICPE)"),(0,l.kt)("p",{style:{marginBottom:"0.4em"}},(0,l.kt)("strong",null,"Arguments")),(0,l.kt)("table",null,(0,l.kt)("thead",null,(0,l.kt)("tr",null,(0,l.kt)("th",null,"Name"),(0,l.kt)("th",null,"Description"))),(0,l.kt)("tbody",null,(0,l.kt)("tr",null,(0,l.kt)("td",null,"siret",(0,l.kt)("br",null),(0,l.kt)("a",{href:"/reference/api-reference/user-company/scalars#string"},(0,l.kt)("code",null,"String!"))),(0,l.kt)("td",null,(0,l.kt)("p",null,"SIRET de l'\xe9tablissement"))))),(0,l.kt)("h2",{id:"ecoorganismes"},"ecoOrganismes"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Type:")," ",(0,l.kt)("a",{parentName:"p",href:"/reference/api-reference/user-company/objects#ecoorganisme"},"[EcoOrganisme!]!")),(0,l.kt)("p",null,"Renvoie la liste des \xe9co-organismes"),(0,l.kt)("h2",{id:"me"},"me"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Type:")," ",(0,l.kt)("a",{parentName:"p",href:"/reference/api-reference/user-company/objects#user"},"User!")),(0,l.kt)("p",null,"Renvoie les informations sur l'utilisateur authentifi\xe9"),(0,l.kt)("h2",{id:"membershiprequest"},"membershipRequest"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Type:")," ",(0,l.kt)("a",{parentName:"p",href:"/reference/api-reference/user-company/objects#membershiprequest"},"MembershipRequest")),(0,l.kt)("p",null,"R\xe9cup\xe8re une demande de rattachement effectu\xe9e par l'utilisateur courant\n\xe0 partir de l'identifiant de cette demande ou du SIRET de l'\xe9tablissement\nauquel l'utilisateur a demand\xe9 \xe0 \xeatre rattach\xe9. L'un ou l'autre des\nparam\xe8tres (id ou siret) doit \xeatre \xeatre pass\xe9 mais pas les deux. Cette query\npermet notamment de suivre l'\xe9tat d'avancement de la demande de rattachement\n(en attente, accept\xe9, refus\xe9)"),(0,l.kt)("p",{style:{marginBottom:"0.4em"}},(0,l.kt)("strong",null,"Arguments")),(0,l.kt)("table",null,(0,l.kt)("thead",null,(0,l.kt)("tr",null,(0,l.kt)("th",null,"Name"),(0,l.kt)("th",null,"Description"))),(0,l.kt)("tbody",null,(0,l.kt)("tr",null,(0,l.kt)("td",null,"id",(0,l.kt)("br",null),(0,l.kt)("a",{href:"/reference/api-reference/user-company/scalars#id"},(0,l.kt)("code",null,"ID"))),(0,l.kt)("td",null)),(0,l.kt)("tr",null,(0,l.kt)("td",null,"siret",(0,l.kt)("br",null),(0,l.kt)("a",{href:"/reference/api-reference/user-company/scalars#string"},(0,l.kt)("code",null,"String"))),(0,l.kt)("td",null)))),(0,l.kt)("h2",{id:"searchcompanies"},"searchCompanies"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Type:")," ",(0,l.kt)("a",{parentName:"p",href:"/reference/api-reference/user-company/objects#companysearchresult"},"[CompanySearchResult!]!")),(0,l.kt)("p",null,"Effectue une recherche floue sur la base SIRENE et enrichit\nles r\xe9sultats avec des informations provenant de Trackd\xe9chets"),(0,l.kt)("p",{style:{marginBottom:"0.4em"}},(0,l.kt)("strong",null,"Arguments")),(0,l.kt)("table",null,(0,l.kt)("thead",null,(0,l.kt)("tr",null,(0,l.kt)("th",null,"Name"),(0,l.kt)("th",null,"Description"))),(0,l.kt)("tbody",null,(0,l.kt)("tr",null,(0,l.kt)("td",null,"clue",(0,l.kt)("br",null),(0,l.kt)("a",{href:"/reference/api-reference/user-company/scalars#string"},(0,l.kt)("code",null,"String!"))),(0,l.kt)("td",null,(0,l.kt)("p",null,"Champ utilis\xe9 pour faire une recherche floue sur la nom de l'\xe9tablissement, ex: 'Boulangerie Dupont'"))),(0,l.kt)("tr",null,(0,l.kt)("td",null,"department",(0,l.kt)("br",null),(0,l.kt)("a",{href:"/reference/api-reference/user-company/scalars#string"},(0,l.kt)("code",null,"String"))),(0,l.kt)("td",null,(0,l.kt)("p",null,"(Optionnel) Filtre les r\xe9sultats par num\xe9ro de d\xe9partement"))))))}m.isMDXComponent=!0}}]);