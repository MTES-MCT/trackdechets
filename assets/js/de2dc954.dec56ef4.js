"use strict";(self.webpackChunktrackdechets=self.webpackChunktrackdechets||[]).push([[1847],{3296:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>t,default:()=>j,frontMatter:()=>d,metadata:()=>c,toc:()=>a});var r=n(4848),i=n(8453);const d={id:"mutations",title:"Mutations",slug:"mutations",sidebar_position:2},t=void 0,c={id:"reference/api-reference/bsda/mutations",title:"Mutations",description:"cancelBsdaRevisionRequest",source:"@site/docs/reference/api-reference/bsda/mutations.md",sourceDirName:"reference/api-reference/bsda",slug:"/reference/api-reference/bsda/mutations",permalink:"/reference/api-reference/bsda/mutations",draft:!1,unlisted:!1,editUrl:"https://github.com/MTES-MCT/trackdechets/edit/dev/doc/docs/reference/api-reference/bsda/mutations.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"mutations",title:"Mutations",slug:"mutations",sidebar_position:2},sidebar:"docs",previous:{title:"Queries",permalink:"/reference/api-reference/bsda/queries"},next:{title:"Objects",permalink:"/reference/api-reference/bsda/objects"}},l={},a=[{value:"cancelBsdaRevisionRequest",id:"cancelbsdarevisionrequest",level:2},{value:"createBsda",id:"createbsda",level:2},{value:"createBsdaRevisionRequest",id:"createbsdarevisionrequest",level:2},{value:"createDraftBsda",id:"createdraftbsda",level:2},{value:"createPdfAccessToken",id:"createpdfaccesstoken",level:2},{value:"deleteBsda",id:"deletebsda",level:2},{value:"duplicateBsda",id:"duplicatebsda",level:2},{value:"publishBsda",id:"publishbsda",level:2},{value:"signBsda",id:"signbsda",level:2},{value:"submitBsdaRevisionRequestApproval",id:"submitbsdarevisionrequestapproval",level:2},{value:"updateBsda",id:"updatebsda",level:2}];function h(e){const s={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"cancelbsdarevisionrequest",children:"cancelBsdaRevisionRequest"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Type:"})," ",(0,r.jsx)(s.a,{href:"scalars#boolean",children:"Boolean!"})]}),"\n",(0,r.jsx)(s.p,{children:"Annule une demande de r\xe9vision de Bsda.\nPeut \xeatre fait uniquement par l'auteur de la r\xe9vision, si celle-ci n'a pas encore \xe9t\xe9 accept\xe9e"}),"\n",(0,r.jsx)("p",{style:{marginBottom:"0.4em"},children:(0,r.jsx)("strong",{children:"Arguments"})}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Description"})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)(s.p,{children:["id",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("a",{href:"scalars#id",children:(0,r.jsx)("code",{children:"ID!"})})]})}),(0,r.jsx)("td",{children:(0,r.jsx)("p",{children:"Identifiant de la demande de r\xe9vision"})})]})})]}),"\n",(0,r.jsx)(s.h2,{id:"createbsda",children:"createBsda"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Type:"})," ",(0,r.jsx)(s.a,{href:"objects#bsda",children:"Bsda!"})]}),"\n",(0,r.jsx)(s.p,{children:"Cr\xe9e un Bsda"}),"\n",(0,r.jsx)("p",{style:{marginBottom:"0.4em"},children:(0,r.jsx)("strong",{children:"Arguments"})}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Description"})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)(s.p,{children:["input",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("a",{href:"inputObjects#bsdainput",children:(0,r.jsx)("code",{children:"BsdaInput!"})})]})}),(0,r.jsx)("td",{})]})})]}),"\n",(0,r.jsx)(s.h2,{id:"createbsdarevisionrequest",children:"createBsdaRevisionRequest"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Type:"})," ",(0,r.jsx)(s.a,{href:"objects#bsdarevisionrequest",children:"BsdaRevisionRequest!"})]}),"\n",(0,r.jsx)(s.p,{children:"Cr\xe9e une demande de r\xe9vision sur un Bsda existant"}),"\n",(0,r.jsx)("p",{style:{marginBottom:"0.4em"},children:(0,r.jsx)("strong",{children:"Arguments"})}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Description"})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)(s.p,{children:["input",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("a",{href:"inputObjects#createbsdarevisionrequestinput",children:(0,r.jsx)("code",{children:"CreateBsdaRevisionRequestInput!"})})]})}),(0,r.jsx)("td",{})]})})]}),"\n",(0,r.jsx)(s.h2,{id:"createdraftbsda",children:"createDraftBsda"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Type:"})," ",(0,r.jsx)(s.a,{href:"objects#bsda",children:"Bsda!"})]}),"\n",(0,r.jsx)(s.p,{children:"Cr\xe9e un Bsda en brouillon"}),"\n",(0,r.jsx)("p",{style:{marginBottom:"0.4em"},children:(0,r.jsx)("strong",{children:"Arguments"})}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Description"})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)(s.p,{children:["input",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("a",{href:"inputObjects#bsdainput",children:(0,r.jsx)("code",{children:"BsdaInput!"})})]})}),(0,r.jsx)("td",{})]})})]}),"\n",(0,r.jsx)(s.h2,{id:"createpdfaccesstoken",children:"createPdfAccessToken"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Type:"})," ",(0,r.jsx)(s.a,{href:"scalars#string",children:"String!"})]}),"\n",(0,r.jsx)(s.p,{children:"Mutation permettant d'obtenir un lien de t\xe9l\xe9chargement valide 30 minutes.\nA destination des forces de l'ordre qui ne disposent pas d'acc\xe8s \xe0 Trackd\xe9chets, le lien\nest accessible sans authentification, et peut \xeatre transmis sous la form de QR-code.\nLa cha\xeene retourn\xe9e est l'url de t\xe9l\xe9chargement."}),"\n",(0,r.jsx)("p",{style:{marginBottom:"0.4em"},children:(0,r.jsx)("strong",{children:"Arguments"})}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Description"})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)(s.p,{children:["input",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("a",{href:"inputObjects#createpdfaccesstokeninput",children:(0,r.jsx)("code",{children:"CreatePdfAccessTokenInput!"})})]})}),(0,r.jsx)("td",{})]})})]}),"\n",(0,r.jsx)(s.h2,{id:"deletebsda",children:"deleteBsda"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Type:"})," ",(0,r.jsx)(s.a,{href:"objects#bsda",children:"Bsda!"})]}),"\n",(0,r.jsx)(s.p,{children:"Supprime un Bsda"}),"\n",(0,r.jsx)("p",{style:{marginBottom:"0.4em"},children:(0,r.jsx)("strong",{children:"Arguments"})}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Description"})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)(s.p,{children:["id",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("a",{href:"scalars#id",children:(0,r.jsx)("code",{children:"ID!"})})]})}),(0,r.jsx)("td",{children:(0,r.jsx)("p",{children:"ID d'un BSDA"})})]})})]}),"\n",(0,r.jsx)(s.h2,{id:"duplicatebsda",children:"duplicateBsda"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Type:"})," ",(0,r.jsx)(s.a,{href:"objects#bsda",children:"Bsda!"})]}),"\n",(0,r.jsx)(s.p,{children:"Duplique un Bsda"}),"\n",(0,r.jsx)("p",{style:{marginBottom:"0.4em"},children:(0,r.jsx)("strong",{children:"Arguments"})}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Description"})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)(s.p,{children:["id",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("a",{href:"scalars#id",children:(0,r.jsx)("code",{children:"ID!"})})]})}),(0,r.jsx)("td",{children:(0,r.jsx)("p",{children:"ID d'un BSDA"})})]})})]}),"\n",(0,r.jsx)(s.h2,{id:"publishbsda",children:"publishBsda"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Type:"})," ",(0,r.jsx)(s.a,{href:"objects#bsda",children:"Bsda!"})]}),"\n",(0,r.jsx)(s.p,{children:"Permet de publier un brouillon pour le marquer comme pr\xeat \xe0 \xeatre envoy\xe9"}),"\n",(0,r.jsx)("p",{style:{marginBottom:"0.4em"},children:(0,r.jsx)("strong",{children:"Arguments"})}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Description"})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)(s.p,{children:["id",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("a",{href:"scalars#id",children:(0,r.jsx)("code",{children:"ID!"})})]})}),(0,r.jsx)("td",{})]})})]}),"\n",(0,r.jsx)(s.h2,{id:"signbsda",children:"signBsda"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Type:"})," ",(0,r.jsx)(s.a,{href:"objects#bsda",children:"Bsda!"})]}),"\n",(0,r.jsx)(s.p,{children:"Signe un Bsda."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.strong,{children:["Champs requis pour ",(0,r.jsx)(s.code,{children:"EMISSION"})," :"]})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"emitter {\n  isPrivateIndividual\n  company {\n    siret\n    name\n    address\n    contact\n    mail\n    phone\n  }\n}\nwaste {\n  code\n  name\n}\ndestination {\n  company {\n    siret\n    name\n    address\n    contact\n    mail\n    phone\n  }\n  cap\n  plannedOperationCode\n}\nworker {\n  company {\n    siret\n    name\n    address\n    contact\n    mail\n    phone\n  }\n}\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.strong,{children:["Champs requis pour ",(0,r.jsx)(s.code,{children:"WORK"})," :"]})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"waste {\n  consistence\n}\nweight {\n  value\n  isEstimate\n}\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.strong,{children:["Champs requis pour ",(0,r.jsx)(s.code,{children:"TRANSPORT"})," :"]})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"transporter {\n  company {\n    siret\n    name\n    address\n    contact\n    mail\n    phone\n  }\n  recepisse {\n    number\n    department\n    validityLimit\n  }\n}\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsxs)(s.strong,{children:["Champs requis pour ",(0,r.jsx)(s.code,{children:"OPERATION"})," :"]})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"destination {\n  reception {\n    date\n    weight\n    acceptationStatus\n  }\n  operation {\n    code\n    mode\n    date\n  }\n}\n"})}),"\n",(0,r.jsx)("p",{style:{marginBottom:"0.4em"},children:(0,r.jsx)("strong",{children:"Arguments"})}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Description"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)(s.p,{children:["id",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("a",{href:"scalars#id",children:(0,r.jsx)("code",{children:"ID!"})})]})}),(0,r.jsx)("td",{})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)(s.p,{children:["input",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("a",{href:"inputObjects#bsdasignatureinput",children:(0,r.jsx)("code",{children:"BsdaSignatureInput!"})})]})}),(0,r.jsx)("td",{})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"submitbsdarevisionrequestapproval",children:"submitBsdaRevisionRequestApproval"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Type:"})," ",(0,r.jsx)(s.a,{href:"objects#bsdarevisionrequest",children:"BsdaRevisionRequest!"})]}),"\n",(0,r.jsx)(s.p,{children:"R\xe9pond \xe0 une demande d'approbation d'une r\xe9vision.\nEn cas de refus, la r\xe9vision associ\xe9e est automatiquement refus\xe9e et les autres validations supprim\xe9es.\nEn cas d'acceptation, si c'\xe9tait la derni\xe8re approbation attendue, la r\xe9vision associ\xe9e est automatiquement approuv\xe9e et appliqu\xe9e sur le Bsda."}),"\n",(0,r.jsx)("p",{style:{marginBottom:"0.4em"},children:(0,r.jsx)("strong",{children:"Arguments"})}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Description"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)(s.p,{children:["id",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("a",{href:"scalars#id",children:(0,r.jsx)("code",{children:"ID!"})})]})}),(0,r.jsx)("td",{children:(0,r.jsx)("p",{children:"Identifiant de la validation"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)(s.p,{children:["isApproved",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("a",{href:"scalars#boolean",children:(0,r.jsx)("code",{children:"Boolean!"})})]})}),(0,r.jsx)("td",{children:(0,r.jsx)("p",{children:"Indique si la r\xe9vision est accept\xe9e ou non"})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)(s.p,{children:["comment",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("a",{href:"scalars#string",children:(0,r.jsx)("code",{children:"String"})})]})}),(0,r.jsx)("td",{children:(0,r.jsx)("p",{children:"Commentaire facultatif"})})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"updatebsda",children:"updateBsda"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Type:"})," ",(0,r.jsx)(s.a,{href:"objects#bsda",children:"Bsda!"})]}),"\n",(0,r.jsx)(s.p,{children:"Met \xe0 jour un Bsda"}),"\n",(0,r.jsx)("p",{style:{marginBottom:"0.4em"},children:(0,r.jsx)("strong",{children:"Arguments"})}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Name"}),(0,r.jsx)("th",{children:"Description"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)(s.p,{children:["id",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("a",{href:"scalars#id",children:(0,r.jsx)("code",{children:"ID!"})})]})}),(0,r.jsx)("td",{})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsxs)(s.p,{children:["input",(0,r.jsx)("br",{}),"\n",(0,r.jsx)("a",{href:"inputObjects#bsdainput",children:(0,r.jsx)("code",{children:"BsdaInput!"})})]})}),(0,r.jsx)("td",{})]})]})]})]})}function j(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>c});var r=n(6540);const i={},d=r.createContext(i);function t(e){const s=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(d.Provider,{value:s},e.children)}}}]);