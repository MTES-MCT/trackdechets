<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Documentation de l'API Trackdéchets Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Documentation de l'API Trackdéchets Blog Atom Feed"><title data-react-helmet="true">Cycle de vie du BSDD | Documentation de l&#x27;API Trackdéchets</title><meta data-react-helmet="true" property="og:url" content="https://developers.trackdechets.beta.gouv.fr/bsdd/workflow"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Cycle de vie du BSDD | Documentation de l&#x27;API Trackdéchets"><meta data-react-helmet="true" name="description" content="Tableau de bord"><meta data-react-helmet="true" property="og:description" content="Tableau de bord"><link data-react-helmet="true" rel="shortcut icon" href="/img/trackdechets.png"><link data-react-helmet="true" rel="canonical" href="https://developers.trackdechets.beta.gouv.fr/bsdd/workflow"><link data-react-helmet="true" rel="alternate" href="https://developers.trackdechets.beta.gouv.fr/bsdd/workflow" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://developers.trackdechets.beta.gouv.fr/bsdd/workflow" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.99659762.css">
<link rel="preload" href="/assets/js/runtime~main.5ddb501f.js" as="script">
<link rel="preload" href="/assets/js/main.af92669d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/mte.svg" alt="Logo Ministère de la Transition Écologique" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/mte.svg" alt="Logo Ministère de la Transition Écologique" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Trackdéchets</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://forum.trackdechets.beta.gouv.fr" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Support</a><a href="https://api.trackdechets.beta.gouv.fr" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Playground</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/mte.svg" alt="Logo Ministère de la Transition Écologique" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/mte.svg" alt="Logo Ministère de la Transition Écologique" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Trackdéchets</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://forum.trackdechets.beta.gouv.fr" target="_blank" rel="noopener noreferrer" class="menu__link">Support</a></li><li class="menu__list-item"><a href="https://api.trackdechets.beta.gouv.fr" target="_blank" rel="noopener noreferrer" class="menu__link">Playground</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/guides/graphql">Faire des appels à l&#x27;API GraphQL</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/guides/oauth2">OAuth2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/guides/environments">Environnements de tests</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/guides/access-token">Obtenir un jeton d&#x27;accès personnel</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/guides/playground">Utilisation du playground</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/guides/sirene">API SIRENE enrichie</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/guides/registre">Registre</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/guides/roles">Rôles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/guides/notifications">Notifications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/guides/errors">Gestion des erreurs</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Bordereaux de suivi de déchets dangereux</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/bsdd/multimodal">Transport multi-modal</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/bsdd/workflow">Cycle de vie du BSDD</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Bordereaux de suivi DASRI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/bsdasri/regroupement">Regroupement</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/bsdasri/workflow">Cycle de vie du BSDASRI</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Référence</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Déchets dangeureux</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsdd/queries">Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsdd/mutations">Mutations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsdd/objects">Objects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsdd/interfaces">Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsdd/enums">Enums</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsdd/unions">Unions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsdd/inputObjects">Input objects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsdd/scalars">Scalars</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">DASRI</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsdasri/queries">Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsdasri/mutations">Mutations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsdasri/objects">Objects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsdasri/interfaces">Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsdasri/enums">Enums</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsdasri/unions">Unions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsdasri/inputObjects">Input objects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsdasri/scalars">Scalars</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">VHU</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsvhu/queries">Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsvhu/mutations">Mutations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsvhu/objects">Objects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsvhu/interfaces">Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsvhu/enums">Enums</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsvhu/unions">Unions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsvhu/inputObjects">Input objects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsvhu/scalars">Scalars</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Fluides Frigorigènes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsff/queries">Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsff/mutations">Mutations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsff/objects">Objects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsff/interfaces">Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsff/enums">Enums</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsff/unions">Unions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsff/inputObjects">Input objects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsff/scalars">Scalars</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Amiante</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsda/queries">Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsda/mutations">Mutations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsda/objects">Objects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsda/interfaces">Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsda/enums">Enums</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsda/unions">Unions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsda/inputObjects">Input objects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/bsda/scalars">Scalars</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Utilisateurs et Établissements</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/user-company/queries">Queries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/user-company/mutations">Mutations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/user-company/objects">Objects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/user-company/interfaces">Interfaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/user-company/enums">Enums</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/user-company/unions">Unions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/user-company/inputObjects">Input objects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/api-reference/user-company/scalars">Scalars</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Cycle de vie du BSDD</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="tableau-de-bord"></a>Tableau de bord<a class="hash-link" href="#tableau-de-bord" title="Direct link to heading">#</a></h2><p>Nous intégrons petit à petit l&#x27;ensemble des cas d&#x27;usage du suivi de déchets au bordereau numérique.</p><table><thead><tr><th>Fonctionnalité</th><th>État</th></tr></thead><tbody><tr><td>BSD simple (case 1-6, 9, 11)</td><td>OK</td></tr><tr><td>Signature Transporteur (case 8)</td><td>OK</td></tr><tr><td>Négociant (case 7)</td><td>OK</td></tr><tr><td>Destinatation ultérieure (case 12)</td><td>OK</td></tr><tr><td>Rupture de traçabilité</td><td>OK</td></tr><tr><td>Refus de déchets</td><td>OK</td></tr><tr><td>Collecte de petites quantités de déchets relevant d&#x27;une même rubrique (Annexe 1)</td><td>OK</td></tr><tr><td>Réexpédition après transformation ou traitement aboutissant à des déchets dont la provenance reste identifiable (Annexe 2)</td><td>OK</td></tr><tr><td>Entreposage provisoire ou reconditionnement (case 13-19)</td><td>OK</td></tr><tr><td>Transport multi-modal simple (case 20-21)</td><td>OK</td></tr><tr><td>Transport multi-modal complexe</td><td>Planifié</td></tr></tbody></table><p>Pour plus d&#x27;informations sur le calendrier de déploiement des fonctionnalités, vous pouvez consulter notre <a href="https://trello.com/b/2pkc7bFg/trackd%C3%A9chets-roadmap-produit" target="_blank" rel="noopener noreferrer">roadmap produit</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="numéro-de-bsd"></a>Numéro de BSD<a class="hash-link" href="#numéro-de-bsd" title="Direct link to heading">#</a></h2><p>Chaque BSD est associé à un identifiant opaque unique. Cet identifiant correspond au champ <code>id</code> et doit être utilisé lors des différentes requêtes. En plus de l&#x27;identifiant opaque, un identifiant &quot;lisible&quot; est généré (champ <code>readableId</code>). Cet identifiant apparait sur le bordereau dans la case &quot;Bordereau n°&quot;. L&#x27;identifiant est sous la forme <code>TD-{année}-{identifiant}</code> (Ex: <code>TD-20-AAA00136</code>). Il peut être utiliser pour récupérer l&#x27;identifiant opaque unique via la query <code>form</code>.</p><p>Vous pouvez également ajouter un identifiant qui vous est propre pour faire le lien avec votre SI. Il vous faut pour cela utiliser le champ <code>customId</code>.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Un QRCode généré dans l&#x27;interface utilisateur encode le champ <code>readableId</code>.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="états-du-bsd"></a>États du BSD<a class="hash-link" href="#états-du-bsd" title="Direct link to heading">#</a></h2><p>L&#x27;ensemble des champs du BSD numérique est décrit dans la <a href="/api-reference/bsdd/objects#form">référence de l&#x27;API</a>. Au cours de son cycle de vie, un BSD numérique peut passer par différents états décrits <a href="/api-reference/bsdd/objects#formstatus">ici</a>.</p><ul><li><code>DRAFT</code> (brouillon): État initial à la création d&#x27;un BSD. Des champs obligatoires peuvent manquer.</li><li><code>SEALED</code> (finalisé): BSD finalisé. Les données sont validées et un numéro de BSD <code>readableId</code> est affecté.</li><li><code>SENT</code> (envoyé): BSD en transit vers l&#x27;installation de destination, d&#x27;entreposage ou de reconditionnement</li><li><code>RECEIVED</code> (reçu): BSD reçu sur l&#x27;installation de destination, d&#x27;entreposage ou de reconditionnement</li><li><code>ACCEPTED</code> (accepté): BSD accepté sur l&#x27;installation de destination, d&#x27;entreposage ou de reconditionnement</li><li><code>REFUSED</code> (refusé): Déchet refusé</li><li><code>PROCESSED</code> (traité): BSD dont l&#x27;opération de traitement a été effectué</li><li><code>NO_TRACEABILITY</code> (rupture de traçabilité): Rupture de traçabilité autorisée par arrêté préfectoral avec transfert de responsabilité.</li><li><code>AWAITING_GROUP</code>: BSD en attente de regroupement (code de traitement D 13, D 14, D 15, R 12, R 13)</li><li><code>GROUPED</code>: BSD qui a été ajouté à une annexe 2</li></ul><p>Chaque changement d&#x27;état s&#x27;effectue grâce à une mutation.</p><table><thead><tr><th>Mutation</th><th>Transition</th><th>Données</th><th>Permissions</th></tr></thead><tbody><tr><td><code>createForm</code></td><td><code>-&gt; DRAFT</code> <br></td><td><a href="/api-reference/bsdd/inputObjects#forminput">FormInput</a></td><td><div><ul><li>émetteur</li><li>destinataire</li><li>transporteur</li><li>négociant</li><li>éco-organisme</li></ul></div></td></tr><tr><td><code>updateForm</code></td><td><code>DRAFT -&gt; DRAFT</code> <br></td><td><a href="/api-reference/bsdd/inputObjects#forminput">FormInput</a></td><td><div><ul><li>émetteur</li><li>destinataire</li><li>transporteur</li><li>négociant</li><li>éco-organisme</li></ul></div></td></tr><tr><td><code>markAsSealed</code></td><td><code>DRAFT -&gt; SEALED</code></td><td></td><td><div><ul><li>émetteur</li><li>destinataire</li><li>transporteur</li><li>négociant</li><li>éco-organisme</li></ul></div></td></tr><tr><td><code>signedByTransporter</code></td><td><div><ul><li><code>SEALED -&gt; SENT</code></li><li><code>RESEALED -&gt; RESENT</code></li></ul></div></td><td><a href="/api-reference/bsdd/inputObjects#transportersignatureforminput">TransporterSignatureFormInput</a></td><td>Uniquement le collecteur-transporteur, l&#x27;émetteur ou le site d&#x27;entreposage provisoire/reconditionnement étant authentifié grâce au code de sécurité présent en paramètre de la mutation</td></tr><tr><td><code>markAsReceived</code></td><td><div><ul><li><code>SENT -&gt; ACCEPTED</code></li><li><code>SENT -&gt; RECEIVED</code></li><li><code>SENT -&gt; REFUSED</code></li></ul></div></td><td><a href="/api-reference/bsdd/inputObjects#receivedforminput">ReceivedFormInput</a></td><td>Uniquement le destinataire du BSD</td></tr><tr><td><code>markAsAccepted</code></td><td><code>RECEIVED -&gt; ACCEPTED</code></td><td><a href="/api-reference/bsdd/inputObjects#acceptedforminput">AcceptedFormInput</a></td><td>Uniquement le destinataire du BSD</td></tr><tr><td><code>markAsProcessed</code></td><td><div><ul><li><code>RECEIVED -&gt; PROCESSED</code></li><li><code>RECEIVED -&gt; NO_TRACEABILITY</code></li><li><code>RECEIVED -&gt; AWAITING_GROUP</code></li></ul></div></td><td><a href="/api-reference/bsdd/inputObjects#processedforminput">ProcessedFormInput</a></td><td>Uniquement le destinataire du BSD</td></tr><tr><td><code>markAsTempStored</code></td><td><div><ul><li><code>SENT -&gt; TEMP_STORER_ACCEPTED</code></li><li><code>SENT -&gt; TEMP_STORED</code></li><li><code>SENT -&gt; REFUSED</code></li></ul></div></td><td><a href="/api-reference/bsdd/inputObjects#tempstoredforminput">TempStoredFormInput</a></td><td>Uniquement le site d&#x27;entreposage temporaire ou de reconditionnement</td></tr><tr><td><code>markAsTempStorerAccepted</code></td><td><code>TEMP_STORED -&gt; TEMP_STORER_ACCEPTED</code></td><td><a href="/api-reference/bsdd/inputObjects#tempstoreracceptedforminput">TempStorerAcceptedFormInput</a></td><td>Uniquement le site d&#x27;entreposage temporaire ou de reconditionnement</td></tr><tr><td><code>markAsResealed</code></td><td><code>TEMP_STORED -&gt; RESEALED</code></td><td><a href="/api-reference/bsdd/inputObjects#resealedtoredforminput">ResealedFormInput</a></td><td>Uniquement le site d&#x27;entreposage temporaire ou de reconditionnement</td></tr><tr><td><code>importPaperForm</code></td><td><code>SEALED -&gt; PROCESSED</code></td><td><a href="/api-reference/bsdd/inputObjects#importpaperforminput">ImportPaperFormInput</a></td><td>Uniquement l&#x27;entreprise de destination</td></tr></tbody></table><p>Le diagramme ci dessous retrace le cycle de vie d&#x27;un BSD dans Trackdéchets:</p><div class="mermaid">
graph TD
AO(NO STATE) --&gt;|createForm| A
A --&gt;|updateForm| A
B --&gt;|updateForm| B
A[DRAFT] --&gt;|markAsSealed| B(SEALED)
B --&gt;|signedByTransporter| C(SENT)
B --&gt;|importPaperForm| E(PROCESSED)
C --&gt;|markAsReceived| D(ACCEPTED)
C --&gt;|markAsReceived - sans signature| M(RECEIVED)
M --&gt;|markAsAccepted| D
M --&gt;|markAsReceived - avec refus| I
D --&gt;|markAsProcessed| E(PROCESSED)
D --&gt;|markAsProcessed - avec rupture de traçabalité |G(NO_TRACEABILITY)
D --&gt;|markAsProcessed - avec opération de regroupement | F(AWAITING_GROUP)
C --&gt;|markAsReceived - avec refus| I(REFUSED)
C --&gt;|markAsTempStored - avec refus| I
F.-&gt;|createForm - appendix2Forms |A
F--&gt;|Lorsque markAsSealed est appelé sur le BSD de regroupement avec annexe 2|H[GROUPED]
H--&gt;|Lorsque markAsProcessed est appelé sur le BSD  de regroupement avec annexe 2|E
C --&gt;|markAsTempStored - |J(TEMP_STORED)
C --&gt;|markAsTempStored|N
J --&gt;|markAsTempStorerAccepted - avec refus|I
J --&gt;|markAsTempStorerAccepted|N(TEMP_STORER_ACCEPTED)
N --&gt;|markAsResealed| K(RESEALED)
K --&gt;|signedByTransporter| L(RESENT)
L --&gt; D
</div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="exemples"></a>Exemples<a class="hash-link" href="#exemples" title="Direct link to heading">#</a></h2><p>Vous pouvez consulter <a href="https://github.com/MTES-MCT/trackdechets/blob/master/back/src/forms/workflow/__tests__/workflow.integration.ts" target="_blank" rel="noopener noreferrer">ce test d&#x27;intégration</a> écrit en Node.js pour voir des exemples concrets d&#x27;utilisation de l&#x27;API pour différents cas d&#x27;usage (acheminement direct du producteur à l&#x27;installation de traitement, entreposage provisoire, multi-modal, etc)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="bsd-au-format-pdf"></a>BSD au format pdf<a class="hash-link" href="#bsd-au-format-pdf" title="Direct link to heading">#</a></h2><p>Il est possible à tout moment d&#x27;obtenir une version pdf du BSD (à l&#x27;exception d&#x27;un BSD à l&#x27;état brouillon). L&#x27;obtention du pdf se fait en deux temps. Il faut d&#x27;abord récupérer un lien de téléchargement grâce à la mutation <code>formPdf</code> en passant en argument l&#x27;identifiant du BSD, puis utiliser ce lien pour télécharger le fichier</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly graphql"><div tabindex="0" class="prism-code language-graphql codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">query</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  formPdf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token attr-name" style="color:rgb(255, 203, 107)">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;{BSD_id}&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    downloadLink</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;data&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;formPdf&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;downloadLink&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://api.trackdechets.beta.gouv.fr/download?token=form_pdf-xxxxxxxxx-xxxx&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p>L&#x27;URL a une durée de validité de 10 secondes.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="flux-de-modifications-de-bsd"></a>Flux de modifications de BSD<a class="hash-link" href="#flux-de-modifications-de-bsd" title="Direct link to heading">#</a></h2><p>Il est possible d&#x27;accéder à un flux des modifications d&#x27;états qui ont eu lieu sur un BSD en particulier ou sur l&#x27;ensemble des BSD&#x27;s liés à un établissement. En faisant des appels réguliers sur ce flux, il est possible d&#x27;implémenter des systèmes de notifications en quasi temps réel pour vos utilisateurs (par exemple lors du traitement d&#x27;un déchets).</p><p>Ce flux est accessible via la query <a href="/api-reference/bsdd/queries#formslifecycle"><code>formsLifeCycle</code></a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="import-dun-bsd-signé-papier"></a>Import d&#x27;un BSD signé papier<a class="hash-link" href="#import-dun-bsd-signé-papier" title="Direct link to heading">#</a></h2><p>L&#x27;installation de traitement a la possibilité d&#x27;importer un BSD signé papier dans Trackdéchet après l&#x27;étape de traitement final dans
le cas simple d&#x27;un acheminement direct du producteur à l’installation de traitement.
Cet import se fait via la mutation <code>importFormPaper</code>. Deux cas de figures se présentent:</p><ul><li>Le BSD est crée initialement dans Trackdéchet puis imprimé avant l&#x27;enlèvement par le transporteur. La signature du collecteur-transporteur en case 8
ainsi que les informations et signatures en case 9, 10 et 11 sont renseignées sur le bordereau papier. Après la phase de traitement finale, le BSD numérique
initial est mis à jour pour l&#x27;entreprise de destination en renseignant son <code>id</code> et les informations manquantes.</li></ul><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Afin d&#x27;obtenir d&#x27;obtenir l&#x27;identifiant d&#x27;un bordereau numérique à partir du numéro <em>TD-xxx</em> apparaissant sur le bordereau papier, il suffit d&#x27;utiliser la query <code>form</code> en lui passant
le paramètre <code>{ readableId: &quot;TD-XXX&quot;}</code></p></div></div><ul><li>Le BSD initial n&#x27;a pas été émis via Trackdéchets et dispose d&#x27;un numéro qui lui est propre. Après la phase de traitement finale, le bordereau papier
est importé dans Trackdéchets en reportant l&#x27;ensemble des informations y apparaissant. Le numéro du BSD papier doit être renseigné grâce au champ <code>customId</code>.
Ce champ permettra de faire le lien entre le bordereau numérique et le bordereau papier.</li></ul><p>Dans les deux cas ci-dessus, l&#x27;entreprise de traitement doit conserver l&#x27;original papier pendant toute la durée réglementaire.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/MTES-MCT/trackdechets/doc/docs/bsdd/workflow.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/bsdd/multimodal"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Transport multi-modal</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/bsdasri/regroupement"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Regroupement »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#tableau-de-bord" class="table-of-contents__link">Tableau de bord</a></li><li><a href="#numéro-de-bsd" class="table-of-contents__link">Numéro de BSD</a></li><li><a href="#états-du-bsd" class="table-of-contents__link">États du BSD</a></li><li><a href="#exemples" class="table-of-contents__link">Exemples</a></li><li><a href="#bsd-au-format-pdf" class="table-of-contents__link">BSD au format pdf</a></li><li><a href="#flux-de-modifications-de-bsd" class="table-of-contents__link">Flux de modifications de BSD</a></li><li><a href="#import-dun-bsd-signé-papier" class="table-of-contents__link">Import d&#39;un BSD signé papier</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">API</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/">Documentation</a></li><li class="footer__item"><a href="https://status.trackdechets.beta.gouv.fr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Statut de l&#x27;API</a></li><li class="footer__item"><a href="https://api.trackdechets.beta.gouv.fr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Playground GraphQL</a></li><li class="footer__item"><a href="https://github.com/MTES-MCT/trackdechets" target="_blank" rel="noopener noreferrer" class="footer__link-item">Code source</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Communauté</h4><ul class="footer__items"><li class="footer__item"><a href="https://developers.trackdechets.beta.gouv.fr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum technique</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Trackdéchets</h4><ul class="footer__items"><li class="footer__item"><a href="https://trackdechets.beta.gouv.fr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Site web</a></li><li class="footer__item"><a href="https://trackdechets.beta.gouv.fr/resources" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ressources</a></li><li class="footer__item"><a href="https://app.trackdechets.beta.gouv.fr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Application web</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Ministère de la Transition Écologique</div></div></div></footer></div>
<script src="/assets/js/runtime~main.5ddb501f.js"></script>
<script src="/assets/js/main.af92669d.js"></script>
</body>
</html>